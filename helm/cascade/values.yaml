# Global Settings
global:
  storageClass: "standard"

# Application Configuration
app:
  environment: production
  image:
    repository: europe-west1-docker.pkg.dev/PROJECT_ID/cascade
    pullPolicy: Always
    tag: "latest"

# Services Configuration
auth:
  replicaCount: 1
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi
  autoscaling:
    enabled: true
    minReplicas: 1
    maxReplicas: 5
    targetCPUUtilizationPercentage: 80

boardCommand:
  replicaCount: 1
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
  autoscaling:
    enabled: true
    minReplicas: 1
    maxReplicas: 5

boardQuery:
  replicaCount: 1
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
  autoscaling:
    enabled: true
    minReplicas: 1
    maxReplicas: 5

frontend:
  replicaCount: 1
  service:
    type: ClusterIP
    port: 80
  ingress:
    enabled: true
    className: "nginx"
    hosts:
      - host: cascade.local
        paths:
          - path: /
            pathType: Prefix
  autoscaling:
    enabled: true
    minReplicas: 1
    maxReplicas: 5

# Dependency Configuration

# MongoDB (Bitnami)
mongodb:
  enabled: true
  image:
    registry: docker.io
    repository: bitnami/mongodb
    tag: 7.0.4
  auth:
    enabled: false # For demo simplicity, enable in prod
  architecture: replicaset
  replicaCount: 1 # Save resources for demo
  persistence:
    enabled: true
    size: 1Gi

# Redis (Bitnami)
redis:
  enabled: true
  image:
    registry: docker.io
    repository: bitnami/redis
    tag: 7.2.3
  architecture: standalone # Save resources for demo
  auth:
    enabled: false
  master:
    persistence:
      enabled: true
      size: 1Gi

# Kafka UI
kafka-ui:
  enabled: true
  yamlApplicationConfig:
    kafka:
      clusters:
        - name: cascade-cluster
          bootstrapServers: cascade-kafka-kafka-bootstrap:9092
